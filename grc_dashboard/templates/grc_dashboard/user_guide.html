{% extends 'grc_dashboard/base.html' %}
{% load static %}

{% block title %}User Guide - ICARIS{% endblock %}

{% block extra_css %}
<style>
    .user-guide-container {
        padding: 2rem 0;
    }
    
    .guide-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 3rem 0;
        margin-bottom: 2rem;
        border-radius: 10px;
    }
    
    .guide-nav {
        position: sticky;
        top: 20px;
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .guide-nav h5 {
        color: #333;
        margin-bottom: 1rem;
        font-weight: 600;
    }
    
    .guide-nav .nav-link {
        color: #666;
        padding: 0.5rem 1rem;
        border-radius: 5px;
        transition: all 0.3s ease;
        margin-bottom: 0.25rem;
    }
    
    .guide-nav .nav-link:hover,
    .guide-nav .nav-link.active {
        background: #667eea;
        color: white;
        text-decoration: none;
    }
    
    .guide-section {
        background: white;
        padding: 2rem;
        margin-bottom: 2rem;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .guide-section h2 {
        color: #333;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 3px solid #667eea;
    }
    
    .guide-section h3 {
        color: #667eea;
        margin-top: 2rem;
        margin-bottom: 1rem;
    }
    
    .step-card {
        background: #f8f9fa;
        padding: 1.5rem;
        margin-bottom: 1rem;
        border-left: 4px solid #667eea;
        border-radius: 5px;
    }
    
    .step-number {
        background: #667eea;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-right: 1rem;
        font-weight: bold;
    }
    
    .faq-item {
        margin-bottom: 1.5rem;
    }
    
    .faq-question {
        background: #f8f9fa;
        padding: 1rem 1.5rem;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .faq-question:hover {
        background: #e9ecef;
    }
    
    .faq-question h5 {
        margin: 0;
        color: #333;
        font-size: 1rem;
    }
    
    .faq-answer {
        padding: 1rem 1.5rem;
        display: none;
        border-left: 3px solid #667eea;
        margin-top: 0.5rem;
    }
    
    .faq-answer.show {
        display: block;
    }
    
    .feature-card {
        border: 2px solid #e9ecef;
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        transition: all 0.3s ease;
    }
    
    .feature-card:hover {
        border-color: #667eea;
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
    }
    
    .feature-icon {
        font-size: 2.5rem;
        color: #667eea;
        margin-bottom: 1rem;
    }
    
    .alert-tip {
        background: #e7f3ff;
        border-left: 4px solid #2196F3;
        padding: 1rem 1.5rem;
        margin: 1rem 0;
        border-radius: 5px;
    }
    
    .alert-tip i {
        color: #2196F3;
        margin-right: 0.5rem;
    }
    
    code {
        background: #f4f4f4;
        padding: 0.2rem 0.5rem;
        border-radius: 3px;
        color: #e83e8c;
    }
</style>
{% endblock %}

{% block content %}
<div class="user-guide-container">
    <!-- Header -->
    <div class="guide-header text-center">
        <h1><i class="fas fa-book-open"></i> ICARIS User Guide</h1>
        <p class="lead mb-0">Everything you need to know to get started with your GRC Dashboard</p>
    </div>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar Navigation -->
            <div class="col-md-3">
                <div class="guide-nav">
                    <h5>Quick Navigation</h5>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#getting-started">
                                <i class="fas fa-play-circle"></i> Getting Started
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#dashboard">
                                <i class="fas fa-tachometer-alt"></i> Dashboard Overview
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#risk-management">
                                <i class="fas fa-exclamation-triangle"></i> Risk Management
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#compliance">
                                <i class="fas fa-check-circle"></i> Compliance Tracking
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#audits">
                                <i class="fas fa-clipboard-check"></i> Audit Management
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#issues">
                                <i class="fas fa-tasks"></i> Issue Tracking
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#faq">
                                <i class="fas fa-question-circle"></i> FAQ
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9">
                <!-- Getting Started Section -->
                <section id="getting-started" class="guide-section">
                    <h2><i class="fas fa-play-circle"></i> Getting Started</h2>
                    
                    <h3>Welcome to ICARIS!</h3>
                    <p>ICARIS is your centralized platform for managing Governance, Risk, and Compliance activities. This guide will help you navigate the system and make the most of its features.</p>
                    
                    <div class="alert-tip">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Pro Tip:</strong> Bookmark this guide for easy reference as you learn the system!
                    </div>

                    <h3>First Steps</h3>
                    
                    <div class="step-card">
                        <span class="step-number">1</span>
                        <strong>Log In</strong>
                        <p class="mb-0 mt-2">Access ICARIS using your credentials. If you don't have an account, contact your system administrator.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">2</span>
                        <strong>Explore the Dashboard</strong>
                        <p class="mb-0 mt-2">The main dashboard provides an overview of all GRC activities including risk summaries, compliance status, and pending tasks.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">3</span>
                        <strong>Navigate Using the Sidebar</strong>
                        <p class="mb-0 mt-2">Use the left sidebar to access different modules: Dashboard, PO&AMs, ConMons, Artifacts, and this User Guide.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">4</span>
                        <strong>Set Up Your Profile</strong>
                        <p class="mb-0 mt-2">Click on your name in the top right corner to access your profile settings and preferences.</p>
                    </div>
                </section>

                <!-- Dashboard Overview -->
                <section id="dashboard" class="guide-section">
                    <h2><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h2>
                    
                    <p>The Dashboard is your command center, providing real-time insights into your GRC posture.</p>
                    
                    <h3>Key Metrics</h3>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <h5>Risk Overview</h5>
                                <p>View total risks, critical risks, and risk trends over time. The risk heatmap shows distribution by severity and likelihood.</p>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-check-square"></i>
                                </div>
                                <h5>Compliance Status</h5>
                                <p>Track compliance percentage, upcoming deadlines, and non-compliant items requiring attention.</p>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-clipboard-list"></i>
                                </div>
                                <h5>Active Audits</h5>
                                <p>Monitor ongoing audits, upcoming audit dates, and pending audit findings.</p>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-exclamation-circle"></i>
                                </div>
                                <h5>Open Issues</h5>
                                <p>View all open issues, overdue items, and issues by priority level.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert-tip">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Quick Tip:</strong> Click on any metric card to drill down into detailed views and reports.
                    </div>
                </section>

                <!-- Risk Management -->
                <section id="risk-management" class="guide-section">
                    <h2><i class="fas fa-exclamation-triangle"></i> Risk Management</h2>
                    
                    <h3>Understanding the Risk Register</h3>
                    <p>The Risk Register is a comprehensive database of all identified risks, their assessments, and mitigation strategies.</p>
                    
                    <h3>How to Add a New Risk</h3>
                    
                    <div class="step-card">
                        <span class="step-number">1</span>
                        <strong>Navigate to Risk Register</strong>
                        <p class="mb-0 mt-2">Click "ConMons" in the sidebar menu.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">2</span>
                        <strong>Click "Add New Risk"</strong>
                        <p class="mb-0 mt-2">Find the button at the top right of the Risk Register page.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">3</span>
                        <strong>Fill in Risk Details</strong>
                        <p class="mb-0 mt-2">Required fields include:</p>
                        <ul class="mt-2">
                            <li><strong>Risk Title:</strong> Clear, descriptive name</li>
                            <li><strong>Description:</strong> Detailed explanation of the risk</li>
                            <li><strong>Category:</strong> Select from predefined categories (Operational, Financial, Strategic, Compliance)</li>
                            <li><strong>Likelihood:</strong> Rate from 1 (Rare) to 5 (Almost Certain)</li>
                            <li><strong>Impact:</strong> Rate from 1 (Insignificant) to 5 (Catastrophic)</li>
                            <li><strong>Owner:</strong> Assign to a team member</li>
                        </ul>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">4</span>
                        <strong>Add Mitigation Strategies</strong>
                        <p class="mb-0 mt-2">Document how you plan to reduce or eliminate the risk.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">5</span>
                        <strong>Save and Monitor</strong>
                        <p class="mb-0 mt-2">Save the risk and set review dates to monitor progress.</p>
                    </div>
                    
                    <h3>Risk Assessment Matrix</h3>
                    <p>Risks are automatically calculated and categorized:</p>
                    <ul>
                        <li><strong class="text-danger">Critical (15-25):</strong> Immediate action required</li>
                        <li><strong class="text-warning">High (10-14):</strong> Priority mitigation needed</li>
                        <li><strong class="text-info">Medium (5-9):</strong> Monitor and plan mitigation</li>
                        <li><strong class="text-success">Low (1-4):</strong> Accept or minimal mitigation</li>
                    </ul>
                </section>

                <!-- Compliance Tracking -->
                <section id="compliance" class="guide-section">
                    <h2><i class="fas fa-check-circle"></i> Compliance Tracking</h2>
                    
                    <h3>Managing Compliance Requirements</h3>
                    <p>Track regulatory requirements, standards, and internal policies to ensure your organization remains compliant.</p>
                    
                    <h3>How to Track a Compliance Item</h3>
                    
                    <div class="step-card">
                        <span class="step-number">1</span>
                        <strong>Add Compliance Requirement</strong>
                        <p class="mb-0 mt-2">Click "Add Requirement" on the Compliance Tracking page.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">2</span>
                        <strong>Enter Details</strong>
                        <p class="mb-0 mt-2">Provide information about:</p>
                        <ul class="mt-2">
                            <li>Requirement name and description</li>
                            <li>Framework/Standard (e.g., ISO 27001, GDPR, HIPAA, SOC 2)</li>
                            <li>Compliance status (Compliant, Partial, Non-Compliant)</li>
                            <li>Due date for compliance review</li>
                            <li>Responsible party</li>
                        </ul>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">3</span>
                        <strong>Upload Evidence</strong>
                        <p class="mb-0 mt-2">Attach documentation that demonstrates compliance (policies, screenshots, reports).</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">4</span>
                        <strong>Schedule Reviews</strong>
                        <p class="mb-0 mt-2">Set up periodic reviews to ensure ongoing compliance.</p>
                    </div>
                    
                    <div class="alert-tip">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Best Practice:</strong> Set reminder dates 30 days before compliance deadlines to allow time for remediation.
                    </div>
                </section>

                <!-- Audit Management -->
                <section id="audits" class="guide-section">
                    <h2><i class="fas fa-clipboard-check"></i> Audit Management</h2>
                    
                    <h3>Planning and Conducting Audits</h3>
                    <p>Manage internal and external audits, track findings, and ensure timely remediation.</p>
                    
                    <h3>Audit Workflow</h3>
                    
                    <div class="step-card">
                        <span class="step-number">1</span>
                        <strong>Create Audit</strong>
                        <p class="mb-0 mt-2">Define audit scope, type (internal/external), and schedule.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">2</span>
                        <strong>Assign Auditors</strong>
                        <p class="mb-0 mt-2">Assign team members or external auditors to the audit.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">3</span>
                        <strong>Document Findings</strong>
                        <p class="mb-0 mt-2">Record audit findings with severity ratings and recommendations.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">4</span>
                        <strong>Create Action Plans</strong>
                        <p class="mb-0 mt-2">Develop remediation plans for each finding.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">5</span>
                        <strong>Track to Closure</strong>
                        <p class="mb-0 mt-2">Monitor remediation progress until all findings are closed.</p>
                    </div>
                    
                    <h3>Audit Status Indicators</h3>
                    <ul>
                        <li><strong>Planned:</strong> Audit scheduled but not yet started</li>
                        <li><strong>In Progress:</strong> Actively being conducted</li>
                        <li><strong>Complete:</strong> Audit finished, findings documented</li>
                        <li><strong>Closed:</strong> All findings remediated and verified</li>
                    </ul>
                </section>

                <!-- Issue Tracking -->
                <section id="issues" class="guide-section">
                    <h2><i class="fas fa-tasks"></i> Issue Tracking (PO&AMs)</h2>
                    
                    <h3>Managing GRC Issues</h3>
                    <p>Track and resolve issues, incidents, and action items across all GRC activities. In ICARIS, these are referred to as PO&AMs (Plan of Action and Milestones).</p>
                    
                    <h3>How to Create an Issue</h3>
                    
                    <div class="step-card">
                        <span class="step-number">1</span>
                        <strong>Navigate to PO&AMs</strong>
                        <p class="mb-0 mt-2">Click "PO&AMs" in the sidebar menu.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">2</span>
                        <strong>Create New Issue</strong>
                        <p class="mb-0 mt-2">Click "New Issue" and provide:</p>
                        <ul class="mt-2">
                            <li>Issue title and description</li>
                            <li>Priority (Critical, High, Medium, Low)</li>
                            <li>Category (Risk, Compliance, Audit, Other)</li>
                            <li>Assignee</li>
                            <li>Due date</li>
                        </ul>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">3</span>
                        <strong>Link Related Items</strong>
                        <p class="mb-0 mt-2">Connect the issue to related risks, compliance items, or audit findings.</p>
                    </div>
                    
                    <div class="step-card">
                        <span class="step-number">4</span>
                        <strong>Track Progress</strong>
                        <p class="mb-0 mt-2">Update status as work progresses: Open → In Progress → Resolved → Closed</p>
                    </div>
                    
                    <h3>Issue Priority Guidelines</h3>
                    <ul>
                        <li><strong class="text-danger">Critical:</strong> Immediate security or compliance threat (resolve within 24 hours)</li>
                        <li><strong class="text-warning">High:</strong> Significant impact (resolve within 1 week)</li>
                        <li><strong class="text-info">Medium:</strong> Moderate impact (resolve within 1 month)</li>
                        <li><strong class="text-success">Low:</strong> Minor impact (resolve as resources allow)</li>
                    </ul>
                </section>

                <!-- FAQ Section -->
                <section id="faq" class="guide-section">
                    <h2><i class="fas fa-question-circle"></i> Frequently Asked Questions</h2>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <h5><i class="fas fa-question-circle"></i> Who should have access to ICARIS?</h5>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Access should be granted based on roles and responsibilities. Typical users include:</p>
                            <ul>
                                <li>Risk managers and owners</li>
                                <li>Compliance officers</li>
                                <li>Internal auditors</li>
                                <li>Executive leadership (view-only access)</li>
                                <li>Department heads and process owners</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <h5><i class="fas fa-question-circle"></i> How often should risks be reviewed?</h5>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Risk review frequency depends on the risk rating:</p>
                            <ul>
                                <li><strong>Critical Risks:</strong> Monthly</li>
                                <li><strong>High Risks:</strong> Quarterly</li>
                                <li><strong>Medium Risks:</strong> Semi-annually</li>
                                <li><strong>Low Risks:</strong> Annually</li>
                            </ul>
                            <p>Additionally, risks should be reviewed after significant organizational changes or incidents.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <h5><i class="fas fa-question-circle"></i> Can I export data from ICARIS?</h5>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Yes! Most sections include export functionality:</p>
                            <ul>
                                <li>Export to Excel (.xlsx) for data analysis</li>
                                <li>Export to PDF for reports and documentation</li>
                                <li>Export to CSV for integration with other systems</li>
                            </ul>
                            <p>Look for the "Export" button in the top right of each module.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <h5><i class="fas fa-question-circle"></i> How do I get help with a specific issue?</h5>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Several support options are available:</p>
                            <ul>
                                <li><strong>Help Icon:</strong> Click the <i class="fas fa-question-circle"></i> icon in any section for context-specific help</li>
                                <li><strong>User Guide:</strong> Refer to this comprehensive guide</li>
                                <li><strong>Admin Support:</strong> Contact your system administrator</li>
                                <li><strong>Training:</strong> Request additional training sessions</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <h5><i class="fas fa-question-circle"></i> What happens to overdue items?</h5>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>The system automatically:</p>
                            <ul>
                                <li>Highlights overdue items in red on all dashboards</li>
                                <li>Sends email notifications to assigned owners</li>
                                <li>Escalates to managers after 7 days overdue</li>
                                <li>Includes overdue items in executive reports</li>
                            </ul>
                            <p>It's important to update due dates if legitimate delays occur to maintain accurate reporting.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <h5><i class="fas fa-question-circle"></i> Can I customize the dashboard?</h5>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Yes! Customization options include:</p>
                            <ul>
                                <li>Rearrange metric cards by dragging and dropping</li>
                                <li>Show/hide specific widgets</li>
                                <li>Set custom date ranges for reports</li>
                                <li>Create personalized views and filters</li>
                                <li>Save custom report templates</li>
                            </ul>
                            <p>Click the <i class="fas fa-cog"></i> icon in the dashboard header to access customization options.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <h5><i class="fas fa-question-circle"></i> Is my data secure?</h5>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>ICARIS implements multiple security measures:</p>
                            <ul>
                                <li><strong>Encryption:</strong> All data encrypted at rest and in transit</li>
                                <li><strong>Access Control:</strong> Role-based permissions ensure users only see relevant data</li>
                                <li><strong>Audit Logs:</strong> All actions are logged for security and compliance</li>
                                <li><strong>Regular Backups:</strong> Daily automated backups with 30-day retention</li>
                                <li><strong>Compliance:</strong> System follows SOC 2 and ISO 27001 standards</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Quick Reference Card -->
                <section class="guide-section">
                    <h2><i class="fas fa-bookmark"></i> Quick Reference</h2>
                    
                    <div class="row" style="margin-top: 24px;">
                        <div class="col-md-6" style="margin-bottom: 24px;">
                            <h5 style="font-weight: 600; margin-bottom: 16px;">Keyboard Shortcuts</h5>
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr style="border-bottom: 1px solid #f5f5f7;">
                                    <td style="padding: 12px 0;"><code>Ctrl + /</code></td>
                                    <td style="padding: 12px 0;">Open search</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f5f5f7;">
                                    <td style="padding: 12px 0;"><code>Ctrl + N</code></td>
                                    <td style="padding: 12px 0;">Create new item</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f5f5f7;">
                                    <td style="padding: 12px 0;"><code>Ctrl + S</code></td>
                                    <td style="padding: 12px 0;">Save current form</td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px 0;"><code>Esc</code></td>
                                    <td style="padding: 12px 0;">Close modal</td>
                                </tr>
                            </table>
                        </div>
                        
                        <div class="col-md-6" style="margin-bottom: 24px;">
                            <h5 style="font-weight: 600; margin-bottom: 16px;">Common Actions</h5>
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr style="border-bottom: 1px solid #f5f5f7;">
                                    <td style="padding: 12px 0; font-weight: 500;">Filter:</td>
                                    <td style="padding: 12px 0;">Use the search bar to filter lists</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f5f5f7;">
                                    <td style="padding: 12px 0; font-weight: 500;">Sort:</td>
                                    <td style="padding: 12px 0;">Click column headers to sort</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f5f5f7;">
                                    <td style="padding: 12px 0; font-weight: 500;">Export:</td>
                                    <td style="padding: 12px 0;">Click Export button in top right</td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px 0; font-weight: 500;">Refresh:</td>
                                    <td style="padding: 12px 0;">Click <i class="fas fa-sync"></i> to reload data</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Support Section -->
                <section class="guide-section">
                    <h2><i class="fas fa-life-ring"></i> Need More Help?</h2>
                    
                    <div class="row" style="margin-top: 32px;">
                        <div class="col-md-4" style="text-align: center; margin-bottom: 32px;">
                            <div style="background: rgba(37, 99, 235, 0.1); width: 80px; height: 80px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 16px;">
                                <i class="fas fa-envelope" style="font-size: 32px; color: #2563eb;"></i>
                            </div>
                            <h5 style="font-weight: 600; margin-bottom: 8px;">Email Support</h5>
                            <p style="color: #86868b; margin: 0;">support@icaris.com</p>
                        </div>
                        
                        <div class="col-md-4" style="text-align: center; margin-bottom: 32px;">
                            <div style="background: rgba(34, 197, 94, 0.1); width: 80px; height: 80px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 16px;">
                                <i class="fas fa-phone" style="font-size: 32px; color: #22c55e;"></i>
                            </div>
                            <h5 style="font-weight: 600; margin-bottom: 8px;">Phone Support</h5>
                            <p style="color: #86868b; margin: 0;">(555) 123-4567</p>
                        </div>
                        
                        <div class="col-md-4" style="text-align: center; margin-bottom: 32px;">
                            <div style="background: rgba(249, 115, 22, 0.1); width: 80px; height: 80px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 16px;">
                                <i class="fas fa-graduation-cap" style="font-size: 32px; color: #f97316;"></i>
                            </div>
                            <h5 style="font-weight: 600; margin-bottom: 8px;">Training</h5>
                            <p style="color: #86868b; margin: 0;">Request a session</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // FAQ Toggle Function
    function toggleFAQ(element) {
        const answer = element.nextElementSibling;
        const icon = element.querySelector('.fa-chevron-down');
        
        // Toggle answer visibility
        answer.classList.toggle('show');
        
        // Rotate icon
        if (answer.classList.contains('show')) {
            icon.style.transform = 'rotate(180deg)';
        } else {
            icon.style.transform = 'rotate(0deg)';
        }
    }
    
    // Smooth scroll for navigation links
    document.querySelectorAll('.guide-nav a').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Remove active class from all links
            document.querySelectorAll('.guide-nav a').forEach(l => l.classList.remove('active'));
            
            // Add active class to clicked link
            this.classList.add('active');
            
            // Smooth scroll to section
            const targetId = this.getAttribute('href').substring(1);
            const targetSection = document.getElementById(targetId);
            
            if (targetSection) {
                targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });
    });
    
    // Update active nav link on scroll
    window.addEventListener('scroll', function() {
        const sections = document.querySelectorAll('.guide-section');
        const navLinks = document.querySelectorAll('.guide-nav a');
        
        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (pageYOffset >= (sectionTop - 100)) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').substring(1) === current) {
                link.classList.add('active');
            }
        });
    });
</script>
{% endblock %}